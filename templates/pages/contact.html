{% extends 'base.html' %}

{% block content %}
<div class="container py-5">
    
    <div class="text-center mb-5">
        <h1 class="display-5 fw-bold">Contact Us</h1>
        <p class="lead text-muted">Get in touch with the CSE Department and Club Representatives.</p>
        <p><strong>General Inquiry:</strong> 
            <a href="mailto:cse.dept@college.edu" class="text-decoration-none">
                cse.dept@college.edu
            </a>
        </p>
    </div>
    
    <div class="row mb-5 g-4">
        
        <div class="col-lg-6">
            <div class="card shadow-sm h-100">
                <div class="card-body p-4">
                    <h3 class="fw-bold mb-3">Send a Message</h3>
                    <p class="text-muted mb-4">Have a query? Fill out the form below and we will get back to you.</p>
                    
                    <form id="myForm">
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Your Name</label>
                            <input type="text" class="form-control" name="name" required placeholder="Enter your name">
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Your Email</label>
                            <input type="email" class="form-control" name="email" required placeholder="name@example.com">
                        </div>
                        <div class="mb-3">
                            <label class="form-label fw-semibold">Direct my query to:</label>
                            <select class="form-select" name="queryType">
                                <option value="HOD">Dr. Pawan Thakur (HOD)</option>
                                <option value="Coordinator">Vanshika Rana (Coordinator)</option>
                                <option value="Coding">Satyam Sharma (Coding & Project)</option>
                                <option value="Cultural">Anshika (Cultural Club)</option>
                                <option value="Sports">Aayush Sharma (Sports Club)</option>
                                <option value="Media">Akarat (Media)</option>
                            </select>
                        </div>
                        <div class="mb-4">
                            <label class="form-label fw-semibold">Your Message</label>
                            <textarea class="form-control" name="query" rows="4" required placeholder="Write your query here..."></textarea>
                        </div>
                        <button type="submit" id="submitBtn" class="btn btn-primary w-100 py-2">Send Message</button>
                        <div id="statusMessage" class="mt-3 fw-bold text-center"></div>
                    </form>
                </div>
            </div>
        </div>

        <div class="col-lg-6">
            <div class="row g-4 h-100">
                
                <div class="col-12">
                    <div class="card shadow border-primary text-center h-100">
                        <div class="card-body py-4 d-flex flex-column justify-content-center">
                            <div class="mb-2"><span style="font-size: 3rem;">ğŸ‘¨â€ğŸ«</span></div>
                            <h4 class="card-title fw-bold text-primary">Dr. Pawan Thakur</h4>
                            <h6 class="card-subtitle mb-3 text-muted">HOD CSE</h6>
                            <hr class="w-50 mx-auto">
                            <p class="card-text mb-1">
                                ğŸ“ <a href="tel:+919827336325" class="text-decoration-none">
                                +91 9827336325</a>
                            </p>
                            <p class="card-text">
                                âœ‰ï¸ <a href="mailto:pawan.thakur@college.edu" class="text-decoration-none">
                                pawan.thakur@college.edu</a>
                            </p>
                        </div>
                    </div>
                </div>

                <div class="col-12">
                    <div class="card shadow-sm text-center h-100">
                        <div class="card-body py-4 d-flex flex-column justify-content-center">
                            <div class="mb-2"><span style="font-size: 2.5rem;">ğŸ‘©â€ğŸ’¼</span></div>
                            <h4 class="card-title fw-bold">Vanshika Rana</h4>
                            <h6 class="card-subtitle mb-3 text-muted">Club Coordinator</h6>
                            <hr class="w-50 mx-auto">
                            <p class="card-text mb-1">
                                ğŸ“ <a href="tel:+918091424257" class="text-decoration-none">
                                +91 8091424257</a>
                            </p>
                            <p class="card-text">
                                âœ‰ï¸ <a href="mailto:vanshikar487@gmail.com" class="text-decoration-none">
                                vanshikar487@gmail.com</a>
                            </p>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>

    <div class="text-center mb-4 mt-5">
        <h3 class="fw-bold">Club Heads</h3>
        <p class="text-muted small">Reach out to the respective heads for club activities and queries.</p>
    </div>
    
    <div class="row g-4 mb-5">
        <div class="col-md-6 col-lg-3">
            <div class="card h-100 shadow-sm text-center border-dark">
                <div class="card-body">
                    <h5 class="card-title fw-bold">Satyam Sharma</h5>
                    <span class="badge bg-dark mb-3">Coding & Project</span>
                    <p class="card-text mb-1 text-muted small">
                        ğŸ“ <a href="tel:+917018467810" class="text-decoration-none">
                        +91 7018467810</a>
                    </p>
                    <p class="card-text text-muted small">
                        âœ‰ï¸ <a href="mailto:cometosatyam2@gmail.com" class="text-decoration-none">
                        cometosatyam2@gmail.com</a>
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-3">
            <div class="card h-100 shadow-sm text-center border-danger">
                <div class="card-body">
                    <h5 class="card-title fw-bold">Anshika</h5>
                    <span class="badge bg-danger mb-3">Cultural Club</span>
                    <p class="card-text mb-1 text-muted small">
                        ğŸ“ <a href="tel:+919317603615" class="text-decoration-none">
                        +91 9317603615</a>
                    </p>
                    <p class="card-text text-muted small">
                        âœ‰ï¸ <a href="mailto:thakuranshika0609@gmail.com" class="text-decoration-none">
                        thakuranshika0609@gmail.com</a>
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-3">
            <div class="card h-100 shadow-sm text-center border-success">
                <div class="card-body">
                    <h5 class="card-title fw-bold">Aayush Sharma</h5>
                    <span class="badge bg-success mb-3">Sports Club</span>
                    <p class="card-text mb-1 text-muted small">
                        ğŸ“ <a href="tel:+918219874412" class="text-decoration-none">
                        +91 8219874412</a>
                    </p>
                    <p class="card-text text-muted small">
                        âœ‰ï¸ <a href="mailto:aayushsharma3459@gmail.com" class="text-decoration-none">
                        aayushsharma3459@gmail.com</a>
                    </p>
                </div>
            </div>
        </div>

        <div class="col-md-6 col-lg-3">
            <div class="card h-100 shadow-sm text-center border-info">
                <div class="card-body">
                    <h5 class="card-title fw-bold">Akrat Kumar</h5>
                    <span class="badge bg-info text-dark mb-3">Media</span>
                    <p class="card-text mb-1 text-muted small">
                        ğŸ“ <a href="tel:+919317609162" class="text-decoration-none">
                        +91 9317609162</a>
                    </p>
                    <p class="card-text text-muted small">
                        âœ‰ï¸ <a href="mailto:akratk123@gmail.com" class="text-decoration-none">
                        akratk123@gmail.com</a>
                    </p>
                </div>
            </div>
        </div>
    </div>

</div>

<script>
    const form = document.getElementById('myForm');
    const statusMessage = document.getElementById('statusMessage');
    const submitBtn = document.getElementById('submitBtn');

    // REPLACE THIS URL WITH YOUR GOOGLE APPS SCRIPT WEB APP URL
    const scriptURL = 'https://script.google.com/macros/s/AKfycbwg0jNY-HlJZJI9BHUOfDL1ZVUuECB9cqhVonWVByzrmmaJ2FrHKERjSeO0zhOA5jIOaA/exec';

    form.addEventListener('submit', e => {
        e.preventDefault(); // Prevents page reload
        
        submitBtn.innerText = "Sending...";
        statusMessage.innerText = "";
        
        // FormData automatically grabs everything with a 'name' attribute
        let requestBody = new FormData(form);

        fetch(scriptURL, { method: 'POST', body: requestBody })
            .then(response => {
                statusMessage.innerText = "Success! Your query has been sent.";
                statusMessage.classList.add("text-success");
                statusMessage.classList.remove("text-danger");
                form.reset();
                submitBtn.innerText = "Send Message";
            })
            .catch(error => {
                statusMessage.innerText = "Error! Something went wrong.";
                statusMessage.classList.add("text-danger");
                statusMessage.classList.remove("text-success");
                submitBtn.innerText = "Send Message";
                console.error('Error!', error.message);
            });
    });
</script>
{% endblock %}